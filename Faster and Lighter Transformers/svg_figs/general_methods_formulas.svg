<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 750">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feOffset dx="2" dy="2" in="SourceAlpha" result="offsetblur"/>
      <feGaussianBlur in="offsetblur" stdDeviation="3" result="blur"/>
      <feFlood flood-color="#000" flood-opacity="0.3" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="shadow"/>
      <feMerge>
        <feMergeNode in="shadow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="950" height="750" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="475" y="35" font-family="Arial, sans-serif" font-size="22" fill="#fff" text-anchor="middle" font-weight="bold" dominant-baseline="middle">
    General Efficiency Methods (Paper Section 3)
  </text>
  
  <!-- Gradient Checkpointing -->
  <g transform="translate(30, 70)">
    <rect x="0" y="0" width="430" height="150" rx="12" fill="#1e293b" stroke="#4facfe" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial" font-size="13" fill="#4facfe" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Gradient Checkpointing (Chen et al.)</text>
    
    <text x="20" y="55" font-family="Arial" font-size="11" fill="#e2e8f0" dominant-baseline="middle">Trade memory for computation:</text>
    
    <text x="20" y="80" font-family="monospace" font-size="11" fill="#94a3b8" dominant-baseline="middle">Standard:     Memory O(l), Compute O(l)</text>
    <text x="20" y="100" font-family="monospace" font-size="11" fill="#ef4444" dominant-baseline="middle">No storage:   Memory O(1), Compute O(l^2)</text>
    <text x="20" y="120" font-family="monospace" font-size="11" fill="#4ade80" dominant-baseline="middle">Optimal:      Memory O(sqrt(l)), Compute O(l)</text>
    
    <text x="215" y="143" font-family="monospace" font-size="9" fill="#64748b" text-anchor="middle" dominant-baseline="middle">OpenAI: 10x memory reduction, 20% slower</text>
  </g>
  
  <!-- Reversible Layers -->
  <g transform="translate(490, 70)">
    <rect x="0" y="0" width="430" height="150" rx="12" fill="#1e293b" stroke="#43e97b" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial" font-size="13" fill="#43e97b" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Reversible Layers (RevNet)</text>
    
    <text x="215" y="55" font-family="Georgia, serif" font-size="14" fill="#fff" text-anchor="middle" dominant-baseline="middle">
      y1 = x1 + F(x2)
    </text>
    <text x="215" y="80" font-family="Georgia, serif" font-size="14" fill="#fff" text-anchor="middle" dominant-baseline="middle">
      y2 = x2 + G(y1)
    </text>
    
    <text x="20" y="110" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">Reconstruct activations from next layer:</text>
    <text x="20" y="130" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" dominant-baseline="middle">x2 = y2 - G(y1), x1 = y1 - F(x2)</text>
  </g>
  
  <!-- Mixed Precision Training -->
  <g transform="translate(30, 240)">
    <rect x="0" y="0" width="430" height="150" rx="12" fill="#1e293b" stroke="#a78bfa" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial" font-size="13" fill="#a78bfa" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Mixed Precision Training</text>
    
    <text x="20" y="55" font-family="Arial" font-size="11" fill="#e2e8f0" dominant-baseline="middle">Combine FP32 and FP16 for speed + stability:</text>
    
    <text x="20" y="85" font-family="monospace" font-size="10" fill="#4facfe" dominant-baseline="middle">Forward pass: FP16 (fast)</text>
    <text x="20" y="105" font-family="monospace" font-size="10" fill="#43e97b" dominant-baseline="middle">Loss scaling: multiply loss before backward</text>
    <text x="20" y="125" font-family="monospace" font-size="10" fill="#fbbf24" dominant-baseline="middle">Master weights: FP32 (stable updates)</text>
    
    <text x="215" y="143" font-family="monospace" font-size="9" fill="#64748b" text-anchor="middle" dominant-baseline="middle">2x memory reduction, 1.5-3x speedup on modern GPUs</text>
  </g>
  
  <!-- Knowledge Distillation -->
  <g transform="translate(490, 240)">
    <rect x="0" y="0" width="430" height="150" rx="12" fill="#1e293b" stroke="#f093fb" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial" font-size="13" fill="#f093fb" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Knowledge Distillation (Hinton et al.)</text>
    
    <text x="215" y="55" font-family="Georgia, serif" font-size="14" fill="#fff" text-anchor="middle" dominant-baseline="middle">
      L = alpha * L_soft + (1-alpha) * L_hard
    </text>
    
    <text x="215" y="85" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" text-anchor="middle" dominant-baseline="middle">
      L_soft = T^2 * KL(p_teacher/T || p_student/T)
    </text>
    
    <text x="215" y="110" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" text-anchor="middle" dominant-baseline="middle">
      L_hard = CrossEntropy(y_true, p_student)
    </text>
    
    <text x="215" y="140" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle" dominant-baseline="middle">T: temperature (higher = softer), alpha: balance weight</text>
  </g>
  
  <!-- Pruning -->
  <g transform="translate(30, 410)">
    <rect x="0" y="0" width="430" height="170" rx="12" fill="#1e293b" stroke="#ef4444" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial" font-size="13" fill="#ef4444" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Pruning Methods</text>
    
    <text x="20" y="55" font-family="Arial" font-size="11" fill="#ef4444" font-weight="bold" dominant-baseline="middle">Magnitude Pruning:</text>
    <text x="20" y="75" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" dominant-baseline="middle">mask_ij = 1 if |w_ij| &gt; threshold, else 0</text>
    
    <text x="20" y="105" font-family="Arial" font-size="11" fill="#4facfe" font-weight="bold" dominant-baseline="middle">Movement Pruning (Sanh et al.):</text>
    <text x="20" y="125" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" dominant-baseline="middle">S_ij = w_ij * (dL/dw_ij) - prune if S &lt; 0</text>
    
    <text x="20" y="155" font-family="Arial" font-size="11" fill="#43e97b" font-weight="bold" dominant-baseline="middle">Head Pruning:</text>
    <text x="160" y="155" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">Remove entire attention heads</text>
  </g>
  
  <!-- Quantization -->
  <g transform="translate(490, 410)">
    <rect x="0" y="0" width="430" height="170" rx="12" fill="#1e293b" stroke="#fbbf24" stroke-width="2" filter="url(#shadow)"/>
    <text x="215" y="25" font-family="Arial" font-size="13" fill="#fbbf24" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Quantization</text>
    
    <text x="20" y="55" font-family="Arial" font-size="11" fill="#fbbf24" font-weight="bold" dominant-baseline="middle">Uniform Quantization:</text>
    <text x="20" y="75" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" dominant-baseline="middle">Q(x) = round(x/s) + z</text>
    <text x="20" y="95" font-family="Georgia, serif" font-size="10" fill="#94a3b8" dominant-baseline="middle">s = (x_max - x_min) / (2^b - 1)</text>
    
    <text x="20" y="125" font-family="Arial" font-size="11" fill="#4facfe" font-weight="bold" dominant-baseline="middle">Types:</text>
    <text x="70" y="125" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">PTQ (post-training) vs QAT (aware training)</text>
    
    <text x="20" y="150" font-family="monospace" font-size="10" fill="#43e97b" dominant-baseline="middle">INT8: 4x smaller | INT4: 8x smaller | Binary: 32x</text>
  </g>
  
  <!-- Parameter Sharing -->
  <g transform="translate(30, 600)">
    <rect x="0" y="0" width="890" height="130" rx="12" fill="#1e293b" stroke="#06b6d4" stroke-width="2" filter="url(#shadow)"/>
    <text x="445" y="25" font-family="Arial" font-size="13" fill="#06b6d4" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Parameter Sharing (ALBERT - Lan et al.)</text>
    
    <text x="30" y="55" font-family="Arial" font-size="11" fill="#06b6d4" font-weight="bold" dominant-baseline="middle">Cross-layer sharing:</text>
    <text x="170" y="55" font-family="monospace" font-size="10" fill="#e2e8f0" dominant-baseline="middle">All L layers share same weights</text>
    <text x="470" y="55" font-family="monospace" font-size="10" fill="#4ade80" dominant-baseline="middle">12x parameter reduction!</text>
    
    <text x="30" y="80" font-family="Arial" font-size="11" fill="#a78bfa" font-weight="bold" dominant-baseline="middle">Embedding factorization:</text>
    <text x="200" y="80" font-family="Georgia, serif" font-size="12" fill="#e2e8f0" dominant-baseline="middle">V x H becomes V x E + E x H (E &lt;&lt; H)</text>
    <text x="520" y="80" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">30K x 768 = 23M to 30K x 128 + 128 x 768 = 4M</text>
    
    <text x="30" y="110" font-family="Arial" font-size="11" fill="#f093fb" font-weight="bold" dominant-baseline="middle">ALBERT-xxlarge:</text>
    <text x="170" y="110" font-family="monospace" font-size="10" fill="#e2e8f0" dominant-baseline="middle">235M params (vs BERT-large 340M) with better performance</text>
  </g>
</svg>

