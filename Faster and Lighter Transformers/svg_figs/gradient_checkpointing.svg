<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 500">
  <defs>
    <linearGradient id="memGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b"/>
      <stop offset="100%" style="stop-color:#ee5a5a"/>
    </linearGradient>
    <linearGradient id="checkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4ecdc4"/>
      <stop offset="100%" style="stop-color:#44b8b0"/>
    </linearGradient>
    <linearGradient id="revGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a29bfe"/>
      <stop offset="100%" style="stop-color:#6c5ce7"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feOffset dx="2" dy="2" in="SourceAlpha" result="offsetblur"/>
      <feGaussianBlur in="offsetblur" stdDeviation="2" result="blur"/>
      <feFlood flood-color="#000" flood-opacity="0.2" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="shadow"/>
      <feMerge><feMergeNode in="shadow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="850" height="500" fill="#0f0f23"/>
  
  <!-- Title -->
  <text x="425" y="30" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="bold" font-family="Arial">Memory Optimization Techniques</text>
  <text x="425" y="52" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="12" font-family="Arial">Trade computation for memory to train larger models</text>
  
  <!-- Standard Approach -->
  <rect x="30" y="70" width="250" height="170" rx="10" fill="#1a1a3e" stroke="#ff6b6b" stroke-width="2"/>
  <text x="155" y="92" text-anchor="middle" dominant-baseline="middle" fill="#ff6b6b" font-size="15" font-weight="bold" font-family="Arial">Standard Training</text>
  
  <!-- Memory blocks -->
  <g filter="url(#shadow)">
    <rect x="50" y="110" width="40" height="28" rx="3" fill="url(#memGrad)"/>
    <rect x="95" y="110" width="40" height="28" rx="3" fill="url(#memGrad)"/>
    <rect x="140" y="110" width="40" height="28" rx="3" fill="url(#memGrad)"/>
    <rect x="185" y="110" width="40" height="28" rx="3" fill="url(#memGrad)"/>
    <rect x="230" y="110" width="40" height="28" rx="3" fill="url(#memGrad)"/>
  </g>
  <text x="70" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a1</text>
  <text x="115" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a2</text>
  <text x="160" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a3</text>
  <text x="205" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a4</text>
  <text x="250" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a5</text>
  
  <text x="155" y="160" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="11" font-family="Arial">Store ALL activations</text>
  <text x="155" y="180" text-anchor="middle" dominant-baseline="middle" fill="#ff6b6b" font-size="12" font-weight="bold" font-family="Arial">Memory: O(L)</text>
  <text x="155" y="198" text-anchor="middle" dominant-baseline="middle" fill="#4ecdc4" font-size="12" font-family="Arial">Compute: O(L)</text>
  <text x="155" y="220" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="10" font-family="Arial">L = number of layers</text>
  
  <!-- Gradient Checkpointing -->
  <rect x="300" y="70" width="250" height="170" rx="10" fill="#1a1a3e" stroke="#4ecdc4" stroke-width="2"/>
  <text x="425" y="92" text-anchor="middle" dominant-baseline="middle" fill="#4ecdc4" font-size="15" font-weight="bold" font-family="Arial">Gradient Checkpointing</text>
  
  <!-- Memory blocks with checkpoints -->
  <g filter="url(#shadow)">
    <rect x="320" y="110" width="40" height="28" rx="3" fill="url(#checkGrad)"/>
    <rect x="365" y="110" width="40" height="28" rx="3" fill="#333" stroke="#555"/>
    <rect x="410" y="110" width="40" height="28" rx="3" fill="url(#checkGrad)"/>
    <rect x="455" y="110" width="40" height="28" rx="3" fill="#333" stroke="#555"/>
    <rect x="500" y="110" width="40" height="28" rx="3" fill="url(#checkGrad)"/>
  </g>
  <text x="340" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a1</text>
  <text x="385" y="124" text-anchor="middle" dominant-baseline="middle" fill="#666" font-size="10" font-family="Arial">-</text>
  <text x="430" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a3</text>
  <text x="475" y="124" text-anchor="middle" dominant-baseline="middle" fill="#666" font-size="10" font-family="Arial">-</text>
  <text x="520" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">a5</text>
  
  <text x="425" y="160" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="11" font-family="Arial">Store checkpoints, recompute rest</text>
  <text x="425" y="180" text-anchor="middle" dominant-baseline="middle" fill="#4ecdc4" font-size="12" font-weight="bold" font-family="Arial">Memory: O(sqrt(L))</text>
  <text x="425" y="198" text-anchor="middle" dominant-baseline="middle" fill="#ffd93d" font-size="12" font-family="Arial">Compute: ~1.2x (20% more)</text>
  <text x="425" y="220" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="10" font-family="Arial">10x memory reduction!</text>
  
  <!-- Reversible Layers -->
  <rect x="570" y="70" width="250" height="170" rx="10" fill="#1a1a3e" stroke="#a29bfe" stroke-width="2"/>
  <text x="695" y="92" text-anchor="middle" dominant-baseline="middle" fill="#a29bfe" font-size="15" font-weight="bold" font-family="Arial">Reversible Layers</text>
  
  <!-- Memory blocks reversible -->
  <g filter="url(#shadow)">
    <rect x="650" y="110" width="90" height="28" rx="3" fill="url(#revGrad)"/>
  </g>
  <text x="695" y="124" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="10" font-family="Arial">Last layer only</text>
  
  <text x="695" y="160" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="11" font-family="Arial">Reconstruct from next layer</text>
  <text x="695" y="180" text-anchor="middle" dominant-baseline="middle" fill="#a29bfe" font-size="12" font-weight="bold" font-family="Arial">Memory: O(1)</text>
  <text x="695" y="198" text-anchor="middle" dominant-baseline="middle" fill="#ffd93d" font-size="12" font-family="Arial">Compute: 2x (recompute all)</text>
  <text x="695" y="220" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="10" font-family="Arial">Depth-independent memory!</text>
  
  <!-- Reversible Layer Formula Box -->
  <rect x="30" y="260" width="380" height="220" rx="10" fill="#1a1a3e" stroke="#a29bfe" stroke-width="2"/>
  <text x="220" y="290" text-anchor="middle" dominant-baseline="middle" fill="#a29bfe" font-size="14" font-weight="bold" font-family="Arial">Reversible Layer Equations</text>
  
  <text x="220" y="330" text-anchor="middle" dominant-baseline="middle" fill="#ffd93d" font-size="12" font-weight="bold" font-family="Arial">Forward:</text>
  <text x="220" y="355" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="13" font-family="monospace">y1 = x1 + Attention(x2)</text>
  <text x="220" y="380" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="13" font-family="monospace">y2 = x2 + FFN(y1)</text>
  
  <text x="220" y="415" text-anchor="middle" dominant-baseline="middle" fill="#4ecdc4" font-size="12" font-weight="bold" font-family="Arial">Backward (Reconstruct):</text>
  <text x="220" y="440" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="13" font-family="monospace">x2 = y2 - FFN(y1)</text>
  <text x="220" y="465" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="13" font-family="monospace">x1 = y1 - Attention(x2)</text>
  
  <!-- Trade-off comparison -->
  <rect x="440" y="260" width="380" height="220" rx="10" fill="#1a1a3e" stroke="#ffd93d" stroke-width="2"/>
  <text x="630" y="290" text-anchor="middle" dominant-baseline="middle" fill="#ffd93d" font-size="14" font-weight="bold" font-family="Arial">Memory-Compute Trade-off</text>
  
  <!-- Comparison table header -->
  <text x="500" y="330" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="11" font-family="Arial">Method</text>
  <text x="590" y="330" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="11" font-family="Arial">Memory</text>
  <text x="680" y="330" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="11" font-family="Arial">Compute</text>
  <text x="770" y="330" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="11" font-family="Arial">Use Case</text>
  
  <line x1="455" y1="345" x2="805" y2="345" stroke="#444" stroke-width="1"/>
  
  <!-- Row 1: Standard -->
  <text x="500" y="370" text-anchor="middle" dominant-baseline="middle" fill="#ff6b6b" font-size="11" font-family="Arial">Standard</text>
  <text x="590" y="370" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="11" font-family="Arial">O(L)</text>
  <text x="680" y="370" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="11" font-family="Arial">1x</text>
  <text x="770" y="370" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="10" font-family="Arial">Small</text>
  
  <!-- Row 2: Checkpoint -->
  <text x="500" y="400" text-anchor="middle" dominant-baseline="middle" fill="#4ecdc4" font-size="11" font-family="Arial">Checkpoint</text>
  <text x="590" y="400" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="11" font-family="Arial">O(sqrt L)</text>
  <text x="680" y="400" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="11" font-family="Arial">1.2x</text>
  <text x="770" y="400" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="10" font-family="Arial">Medium</text>
  
  <!-- Row 3: Reversible -->
  <text x="500" y="430" text-anchor="middle" dominant-baseline="middle" fill="#a29bfe" font-size="11" font-family="Arial">Reversible</text>
  <text x="590" y="430" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="11" font-family="Arial">O(1)</text>
  <text x="680" y="430" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="11" font-family="Arial">2x</text>
  <text x="770" y="430" text-anchor="middle" dominant-baseline="middle" fill="#aaa" font-size="10" font-family="Arial">Deep</text>
  
  <text x="630" y="465" text-anchor="middle" dominant-baseline="middle" fill="#888" font-size="10" font-family="Arial">Reformer uses reversible layers in attention + FFN</text>
</svg>
