<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 520">
  <defs>
    <linearGradient id="sparseGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe"/>
      <stop offset="100%" style="stop-color:#00f2fe"/>
    </linearGradient>
    <linearGradient id="localGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b"/>
      <stop offset="100%" style="stop-color:#ee5a5a"/>
    </linearGradient>
    <linearGradient id="globalGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4ade80"/>
      <stop offset="100%" style="stop-color:#22c55e"/>
    </linearGradient>
    <linearGradient id="dynamicGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a78bfa"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="4" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="520" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="Arial, sans-serif" font-size="26" fill="#fff" text-anchor="middle" font-weight="bold" dominant-baseline="middle">
    Sparse Attention: Skip Unnecessary Computations
  </text>
  <text x="450" y="65" font-family="monospace" font-size="12" fill="#64748b" text-anchor="middle" dominant-baseline="middle">
    Not all tokens need to attend to all other tokens
  </text>
  
  <!-- Core Idea -->
  <rect x="30" y="85" width="840" height="110" rx="14" fill="#1e293b" stroke="#4facfe" stroke-width="2" filter="url(#shadow)"/>
  <text x="450" y="115" font-family="Arial" font-size="15" fill="#4facfe" text-anchor="middle" font-weight="bold" dominant-baseline="middle">
    Core Idea: Attention Scores are Often Sparse!
  </text>
  
  <!-- Dense visualization -->
  <g transform="translate(55, 135)">
    <text x="75" y="0" font-family="monospace" font-size="10" fill="#64748b" text-anchor="middle" dominant-baseline="middle">Dense Attention</text>
    <rect x="0" y="10" width="150" height="45" rx="4" fill="#0f172a"/>
    <rect x="5" y="15" width="20" height="10" fill="#4facfe" opacity="0.9"/>
    <rect x="28" y="15" width="20" height="10" fill="#4facfe" opacity="0.6"/>
    <rect x="51" y="15" width="20" height="10" fill="#4facfe" opacity="0.4"/>
    <rect x="74" y="15" width="20" height="10" fill="#4facfe" opacity="0.3"/>
    <rect x="97" y="15" width="20" height="10" fill="#4facfe" opacity="0.5"/>
    <rect x="120" y="15" width="25" height="10" fill="#4facfe" opacity="0.7"/>
    <rect x="5" y="28" width="20" height="10" fill="#4facfe" opacity="0.5"/>
    <rect x="28" y="28" width="20" height="10" fill="#4facfe" opacity="0.9"/>
    <rect x="51" y="28" width="20" height="10" fill="#4facfe" opacity="0.7"/>
    <rect x="74" y="28" width="20" height="10" fill="#4facfe" opacity="0.3"/>
    <rect x="97" y="28" width="20" height="10" fill="#4facfe" opacity="0.2"/>
    <rect x="120" y="28" width="25" height="10" fill="#4facfe" opacity="0.4"/>
    <rect x="5" y="41" width="20" height="10" fill="#4facfe" opacity="0.3"/>
    <rect x="28" y="41" width="20" height="10" fill="#4facfe" opacity="0.5"/>
    <rect x="51" y="41" width="20" height="10" fill="#4facfe" opacity="0.9"/>
    <rect x="74" y="41" width="20" height="10" fill="#4facfe" opacity="0.8"/>
    <rect x="97" y="41" width="20" height="10" fill="#4facfe" opacity="0.4"/>
    <rect x="120" y="41" width="25" height="10" fill="#4facfe" opacity="0.2"/>
  </g>
  
  <!-- Arrow -->
  <text x="240" y="170" font-family="Arial" font-size="16" fill="#4facfe" text-anchor="middle" dominant-baseline="middle">→</text>
  <text x="240" y="190" font-family="monospace" font-size="9" fill="#4facfe" text-anchor="middle" dominant-baseline="middle">softmax</text>
  
  <!-- Sparse result -->
  <g transform="translate(275, 135)">
    <text x="75" y="0" font-family="monospace" font-size="10" fill="#4ade80" text-anchor="middle" dominant-baseline="middle">After Softmax (Sparse!)</text>
    <rect x="0" y="10" width="150" height="45" rx="4" fill="#0f172a"/>
    <rect x="5" y="15" width="20" height="10" fill="#4ade80" opacity="0.95"/>
    <rect x="28" y="15" width="20" height="10" fill="#1e293b"/>
    <rect x="51" y="15" width="20" height="10" fill="#1e293b"/>
    <rect x="74" y="15" width="20" height="10" fill="#1e293b"/>
    <rect x="97" y="15" width="20" height="10" fill="#1e293b"/>
    <rect x="120" y="15" width="25" height="10" fill="#4ade80" opacity="0.4"/>
    <rect x="5" y="28" width="20" height="10" fill="#1e293b"/>
    <rect x="28" y="28" width="20" height="10" fill="#4ade80" opacity="0.95"/>
    <rect x="51" y="28" width="20" height="10" fill="#4ade80" opacity="0.5"/>
    <rect x="74" y="28" width="20" height="10" fill="#1e293b"/>
    <rect x="97" y="28" width="20" height="10" fill="#1e293b"/>
    <rect x="120" y="28" width="25" height="10" fill="#1e293b"/>
    <rect x="5" y="41" width="20" height="10" fill="#1e293b"/>
    <rect x="28" y="41" width="20" height="10" fill="#1e293b"/>
    <rect x="51" y="41" width="20" height="10" fill="#4ade80" opacity="0.95"/>
    <rect x="74" y="41" width="20" height="10" fill="#4ade80" opacity="0.7"/>
    <rect x="97" y="41" width="20" height="10" fill="#1e293b"/>
    <rect x="120" y="41" width="25" height="10" fill="#1e293b"/>
  </g>
  
  <!-- Key insight text -->
  <text x="500" y="150" font-family="monospace" font-size="11" fill="#fff" dominant-baseline="middle">→ Most attention weights</text>
  <text x="530" y="170" font-family="monospace" font-size="11" fill="#ef4444" dominant-baseline="middle">are near zero after softmax!</text>
  <text x="530" y="190" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">Skip computing them = speedup</text>
  
  <!-- Three Types -->
  <!-- Local -->
  <rect x="30" y="220" width="270" height="270" rx="14" fill="#1e293b" stroke="url(#localGrad)" stroke-width="2" filter="url(#shadow)"/>
  <text x="165" y="250" font-family="Arial" font-size="14" fill="#ff6b6b" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Local (Window) Attention</text>
  
  <g transform="translate(60, 270)">
    <rect x="0" y="0" width="100" height="100" rx="4" fill="#0f172a"/>
    <rect x="5" y="5" width="25" height="18" fill="#ff6b6b"/>
    <rect x="20" y="23" width="25" height="18" fill="#ff6b6b"/>
    <rect x="35" y="41" width="25" height="18" fill="#ff6b6b"/>
    <rect x="50" y="59" width="25" height="18" fill="#ff6b6b"/>
    <rect x="65" y="77" width="30" height="18" fill="#ff6b6b"/>
    <text x="50" y="120" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle" dominant-baseline="middle">Window size = w</text>
  </g>
  
  <text x="55" y="420" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">✓ Attend to w neighbors</text>
  <text x="55" y="440" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">✓ O(Nw) complexity</text>
  <text x="55" y="465" font-family="monospace" font-size="10" fill="#ff6b6b" dominant-baseline="middle">Ex: Longformer, BigBird</text>
  
  <!-- Global + Local -->
  <rect x="315" y="220" width="270" height="270" rx="14" fill="#1e293b" stroke="url(#globalGrad)" stroke-width="2" filter="url(#shadow)"/>
  <text x="450" y="250" font-family="Arial" font-size="14" fill="#4ade80" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Global + Local</text>
  
  <g transform="translate(345, 270)">
    <rect x="0" y="0" width="100" height="100" rx="4" fill="#0f172a"/>
    <rect x="5" y="5" width="20" height="18" fill="#ff6b6b"/>
    <rect x="17" y="23" width="20" height="18" fill="#ff6b6b"/>
    <rect x="35" y="41" width="20" height="18" fill="#ff6b6b"/>
    <rect x="52" y="59" width="20" height="18" fill="#ff6b6b"/>
    <rect x="70" y="77" width="25" height="18" fill="#ff6b6b"/>
    <rect x="5" y="5" width="10" height="90" fill="#4ade80"/>
    <rect x="5" y="5" width="90" height="10" fill="#4ade80"/>
    <text x="50" y="120" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle" dominant-baseline="middle">Global tokens + window</text>
  </g>
  
  <text x="340" y="420" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">✓ Special tokens attend globally</text>
  <text x="340" y="440" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">✓ O(Nw + Ng) complexity</text>
  <text x="340" y="465" font-family="monospace" font-size="10" fill="#4ade80" dominant-baseline="middle">Ex: BigBird, Longformer</text>
  
  <!-- Dynamic -->
  <rect x="600" y="220" width="270" height="270" rx="14" fill="#1e293b" stroke="url(#dynamicGrad)" stroke-width="2" filter="url(#shadow)"/>
  <text x="735" y="250" font-family="Arial" font-size="14" fill="#a78bfa" text-anchor="middle" font-weight="bold" dominant-baseline="middle">Dynamic Selection</text>
  
  <g transform="translate(630, 270)">
    <rect x="0" y="0" width="100" height="100" rx="4" fill="#0f172a"/>
    <rect x="5" y="5" width="18" height="14" fill="#a78bfa"/>
    <rect x="40" y="5" width="18" height="14" fill="#a78bfa"/>
    <rect x="77" y="5" width="18" height="14" fill="#a78bfa"/>
    <rect x="22" y="24" width="18" height="14" fill="#a78bfa"/>
    <rect x="60" y="24" width="18" height="14" fill="#a78bfa"/>
    <rect x="5" y="43" width="18" height="14" fill="#a78bfa"/>
    <rect x="45" y="43" width="18" height="14" fill="#a78bfa"/>
    <rect x="77" y="43" width="18" height="14" fill="#a78bfa"/>
    <rect x="30" y="62" width="18" height="14" fill="#a78bfa"/>
    <rect x="60" y="62" width="18" height="14" fill="#a78bfa"/>
    <rect x="10" y="81" width="18" height="14" fill="#a78bfa"/>
    <rect x="45" y="81" width="18" height="14" fill="#a78bfa"/>
    <rect x="77" y="81" width="18" height="14" fill="#a78bfa"/>
    <text x="50" y="120" font-family="monospace" font-size="9" fill="#94a3b8" text-anchor="middle" dominant-baseline="middle">Content-based selection</text>
  </g>
  
  <text x="625" y="420" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">✓ Learn which tokens matter</text>
  <text x="625" y="440" font-family="monospace" font-size="10" fill="#94a3b8" dominant-baseline="middle">✓ Data-dependent sparsity</text>
  <text x="625" y="465" font-family="monospace" font-size="10" fill="#a78bfa" dominant-baseline="middle">Ex: Reformer, Routing Trans.</text>
</svg>
